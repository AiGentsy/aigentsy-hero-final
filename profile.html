<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Your AiGentsy | Sharefront</title>
  <link rel="stylesheet" href="/theme.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #0b0c10;
      color: #e0e0e0;
      font-family: 'Inter', sans-serif;
    }
    .container {
      max-width: 1080px;
      margin: 0 auto;
      padding: 40px 20px;
    }
    .hero {
      text-align: center;
      margin-bottom: 40px;
    }
    .hero h1 {
      font-size: 2.5rem;
      color: #00bfff;
    }
    .hero p {
      font-size: 1.1rem;
      color: #aaa;
      margin-top: 10px;
    }
    .tags {
      margin-top: 10px;
    }
    .tag {
      display: inline-block;
      background: #111;
      border: 1px solid #00bfff;
      padding: 4px 10px;
      border-radius: 6px;
      margin-right: 8px;
      font-size: 0.85rem;
    }
    .section {
      background: #111;
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 30px;
      box-shadow: 0 0 10px rgba(0,255,255,0.05);
    }
    .section h2 {
      color: #00bfff;
      font-size: 1.4rem;
      margin-bottom: 12px;
    }
    .btn-glow {
      background: #00bfff;
      color: #000;
      padding: 10px 16px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      display: inline-block;
      margin-top: 10px;
    }
    .btn-glow:hover {
      background: #009cd8;
    }
    .service-box {
      margin-bottom: 14px;
    }
    .service-box p {
      margin: 4px 0;
      font-size: 0.95rem;
    }
    .share-link {
      font-size: 0.85rem;
      color: #888;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="hero">
      <h1 id="agentName">Your AiGentsy</h1>
      <p id="agentBio">Loading personalized expertise and offerings...</p>
      <div class="tags" id="agentTags">
        <!-- dynamically populated -->
      </div>
    </div>

    <div class="section">
      <h2>üîß Capabilities & Services</h2>
      <div id="serviceOfferings">
        <div class="service-box">
          <p>Deploy this AiGent for real-world services</p>
          <button class="btn-glow" onclick="openModal('vault')">üíº Vault Access</button>
        </div>
        <div class="service-box">
          <p>Use this AiGent as a Remix Source or Integrator</p>
          <button class="btn-glow" onclick="openModal('remix')">üé® Unlock Remix</button>
        </div>
        <div class="service-box">
          <p>Request Clone or Partnership Offering</p>
          <button class="btn-glow" onclick="openModal('clone')">üß¨ Clone Request</button>
        </div>
      </div>
    </div>

    <div class="section">
      <h2>üìÑ Licensing & Credentials</h2>
      <p><a href="/contracts/licensing-standard.pdf" target="_blank" style="color:#00bfff;">View Standard Licensing Contract</a></p>
      <p><a href="#" onclick="openModal('sdk')" style="color:#00bfff;">Unlock SDK Access</a></p>
    </div>

    <div class="section">
      <h2>üìà Snapshot Metrics</h2>
      <ul style="list-style:none; padding-left:0; font-size:0.95rem;">
        <li>Remix Count: <span id="snapshotRemix">0</span></li>
        <li>Clients Served: <span id="snapshotClients">0</span></li>
        <li>AIGx Earned: <span id="snapshotAigx">0</span></li>
        <li>Real-World Services Rendered: <span id="snapshotServices">0</span></li>
      </ul>
    </div>

    <div class="section">
      <h2>üîó Share Your AiGentsy</h2>
      <p>Public page URL:</p>
      <input type="text" id="shareLink" readonly style="width:100%; padding:8px; border-radius:6px; border:none; background:#000; color:#00bfff;" value="https://aigentsy.com/profile.html?user=username">
    </div>
  </div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const user = params.get('user');
    document.getElementById('shareLink').value = `https://aigentsy.com/profile.html?user=${user}`;

    fetch(`https://api.jsonbin.io/v3/b/YOUR_BIN_ID/latest`, {
      headers: {
        'X-Master-Key': 'YOUR_SECRET_KEY'
      }
    })
    .then(res => res.json())
    .then(data => {
      const record = data.record;
      const userData = record.find(u => u.id === user);
      if (!userData) return;

      document.getElementById('agentName').innerText = userData.consent.username || 'Your AiGentsy';
      document.getElementById('agentBio').innerText = userData.bio || 'This AiGentsy specializes in protocol-native deployments and real-world AI-powered services.';

      const tags = [
        ...(userData.traits || []),
        ...(userData.protocol ? [userData.protocol] : [])
      ];
      document.getElementById('agentTags').innerHTML = tags.map(t => `<span class="tag">${t}</span>`).join('');

      document.getElementById('snapshotRemix').innerText = userData.remixCount || 0;
      document.getElementById('snapshotClients').innerText = userData.growth?.clients || 0;
      document.getElementById('snapshotAigx').innerText = userData.yield?.aigx || 0;
      document.getElementById('snapshotServices').innerText = userData.realWorld?.services || 0;
    });

    function openModal(type) {
      alert('üîê Modal or Stripe unlock flow coming soon for: ' + type);
    }
  </script>
</body>
</html>
